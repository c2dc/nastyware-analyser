import json

def fix_template(template):
    for key in template:
        if isinstance(template[key], dict):
            fix_template(template[key])
        else:
            template[key] = key

with open('malware_sources.json') as f:
    malware_sources = json.load(f)
    for src in malware_sources:
        if malware_sources[src]['template'] is None:
            continue

        fix_template(malware_sources[src]['template'])

with open('malware_sources.json', 'w') as f:
    json.dump(malware_sources, f, indent=4)
